!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("d3")):"function"==typeof define&&define.amd?define("ng-neo4jd3",["exports","@angular/core","d3"],t):t((e=e||self)["ng-neo4jd3"]={},e.ng.core,e.d3)}(this,(function(e,t,o){"use strict";var i=function(){function e(e){this.options=e,this.options.iconMap=this.fontAwesomeIcons()}return e.prototype.fontAwesomeIcons=function(){return{glass:"f000",music:"f001",search:"f002","envelope-o":"f003",heart:"f004",star:"f005","star-o":"f006",user:"f007",film:"f008","th-large":"f009",th:"f00a","th-list":"f00b",check:"f00c","remove,close,times":"f00d","search-plus":"f00e","search-minus":"f010","power-off":"f011",signal:"f012","gear,cog":"f013","trash-o":"f014",home:"f015","file-o":"f016","clock-o":"f017",road:"f018",download:"f019","arrow-circle-o-down":"f01a","arrow-circle-o-up":"f01b",inbox:"f01c","play-circle-o":"f01d","rotate-right,repeat":"f01e",refresh:"f021","list-alt":"f022",lock:"f023",flag:"f024",headphones:"f025","volume-off":"f026","volume-down":"f027","volume-up":"f028",qrcode:"f029",barcode:"f02a",tag:"f02b",tags:"f02c",book:"f02d",bookmark:"f02e",print:"f02f",camera:"f030",font:"f031",bold:"f032",italic:"f033","text-height":"f034","text-width":"f035","align-left":"f036","align-center":"f037","align-right":"f038","align-justify":"f039",list:"f03a","dedent,outdent":"f03b",indent:"f03c","video-camera":"f03d","photo,image,picture-o":"f03e",pencil:"f040","map-marker":"f041",adjust:"f042",tint:"f043","edit,pencil-square-o":"f044","share-square-o":"f045","check-square-o":"f046",arrows:"f047","step-backward":"f048","fast-backward":"f049",backward:"f04a",play:"f04b",pause:"f04c",stop:"f04d",forward:"f04e","fast-forward":"f050","step-forward":"f051",eject:"f052","chevron-left":"f053","chevron-right":"f054","plus-circle":"f055","minus-circle":"f056","times-circle":"f057","check-circle":"f058","question-circle":"f059","info-circle":"f05a",crosshairs:"f05b","times-circle-o":"f05c","check-circle-o":"f05d",ban:"f05e","arrow-left":"f060","arrow-right":"f061","arrow-up":"f062","arrow-down":"f063","mail-forward,share":"f064",expand:"f065",compress:"f066",plus:"f067",minus:"f068",asterisk:"f069","exclamation-circle":"f06a",gift:"f06b",leaf:"f06c",fire:"f06d",eye:"f06e","eye-slash":"f070","warning,exclamation-triangle":"f071",plane:"f072",calendar:"f073",random:"f074",comment:"f075",magnet:"f076","chevron-up":"f077","chevron-down":"f078",retweet:"f079","shopping-cart":"f07a",folder:"f07b","folder-open":"f07c","arrows-v":"f07d","arrows-h":"f07e","bar-chart-o,bar-chart":"f080","twitter-square":"f081","facebook-square":"f082","camera-retro":"f083",key:"f084","gears,cogs":"f085",comments:"f086","thumbs-o-up":"f087","thumbs-o-down":"f088","star-half":"f089","heart-o":"f08a","sign-out":"f08b","linkedin-square":"f08c","thumb-tack":"f08d","external-link":"f08e","sign-in":"f090",trophy:"f091","github-square":"f092",upload:"f093","lemon-o":"f094",phone:"f095","square-o":"f096","bookmark-o":"f097","phone-square":"f098",twitter:"f099","facebook-f,facebook":"f09a",github:"f09b",unlock:"f09c","credit-card":"f09d","feed,rss":"f09e","hdd-o":"f0a0",bullhorn:"f0a1",bell:"f0f3",certificate:"f0a3","hand-o-right":"f0a4","hand-o-left":"f0a5","hand-o-up":"f0a6","hand-o-down":"f0a7","arrow-circle-left":"f0a8","arrow-circle-right":"f0a9","arrow-circle-up":"f0aa","arrow-circle-down":"f0ab",globe:"f0ac",wrench:"f0ad",tasks:"f0ae",filter:"f0b0",briefcase:"f0b1","arrows-alt":"f0b2","group,users":"f0c0","chain,link":"f0c1",cloud:"f0c2",flask:"f0c3","cut,scissors":"f0c4","copy,files-o":"f0c5",paperclip:"f0c6","save,floppy-o":"f0c7",square:"f0c8","navicon,reorder,bars":"f0c9","list-ul":"f0ca","list-ol":"f0cb",strikethrough:"f0cc",underline:"f0cd",table:"f0ce",magic:"f0d0",truck:"f0d1",pinterest:"f0d2","pinterest-square":"f0d3","google-plus-square":"f0d4","google-plus":"f0d5",money:"f0d6","caret-down":"f0d7","caret-up":"f0d8","caret-left":"f0d9","caret-right":"f0da",columns:"f0db","unsorted,sort":"f0dc","sort-down,sort-desc":"f0dd","sort-up,sort-asc":"f0de",envelope:"f0e0",linkedin:"f0e1","rotate-left,undo":"f0e2","legal,gavel":"f0e3","dashboard,tachometer":"f0e4","comment-o":"f0e5","comments-o":"f0e6","flash,bolt":"f0e7",sitemap:"f0e8",umbrella:"f0e9","paste,clipboard":"f0ea","lightbulb-o":"f0eb",exchange:"f0ec","cloud-download":"f0ed","cloud-upload":"f0ee","user-md":"f0f0",stethoscope:"f0f1",suitcase:"f0f2","bell-o":"f0a2",coffee:"f0f4",cutlery:"f0f5","file-text-o":"f0f6","building-o":"f0f7","hospital-o":"f0f8",ambulance:"f0f9",medkit:"f0fa","fighter-jet":"f0fb",beer:"f0fc","h-square":"f0fd","plus-square":"f0fe","angle-double-left":"f100","angle-double-right":"f101","angle-double-up":"f102","angle-double-down":"f103","angle-left":"f104","angle-right":"f105","angle-up":"f106","angle-down":"f107",desktop:"f108",laptop:"f109",tablet:"f10a","mobile-phone,mobile":"f10b","circle-o":"f10c","quote-left":"f10d","quote-right":"f10e",spinner:"f110",circle:"f111","mail-reply,reply":"f112","github-alt":"f113","folder-o":"f114","folder-open-o":"f115","smile-o":"f118","frown-o":"f119","meh-o":"f11a",gamepad:"f11b","keyboard-o":"f11c","flag-o":"f11d","flag-checkered":"f11e",terminal:"f120",code:"f121","mail-reply-all,reply-all":"f122","star-half-empty,star-half-full,star-half-o":"f123","location-arrow":"f124",crop:"f125","code-fork":"f126","unlink,chain-broken":"f127",question:"f128",info:"f129",exclamation:"f12a",superscript:"f12b",subscript:"f12c",eraser:"f12d","puzzle-piece":"f12e",microphone:"f130","microphone-slash":"f131",shield:"f132","calendar-o":"f133","fire-extinguisher":"f134",rocket:"f135",maxcdn:"f136","chevron-circle-left":"f137","chevron-circle-right":"f138","chevron-circle-up":"f139","chevron-circle-down":"f13a",html5:"f13b",css3:"f13c",anchor:"f13d","unlock-alt":"f13e",bullseye:"f140","ellipsis-h":"f141","ellipsis-v":"f142","rss-square":"f143","play-circle":"f144",ticket:"f145","minus-square":"f146","minus-square-o":"f147","level-up":"f148","level-down":"f149","check-square":"f14a","pencil-square":"f14b","external-link-square":"f14c","share-square":"f14d",compass:"f14e","toggle-down,caret-square-o-down":"f150","toggle-up,caret-square-o-up":"f151","toggle-right,caret-square-o-right":"f152","euro,eur":"f153",gbp:"f154","dollar,usd":"f155","rupee,inr":"f156","cny,rmb,yen,jpy":"f157","ruble,rouble,rub":"f158","won,krw":"f159","bitcoin,btc":"f15a",file:"f15b","file-text":"f15c","sort-alpha-asc":"f15d","sort-alpha-desc":"f15e","sort-amount-asc":"f160","sort-amount-desc":"f161","sort-numeric-asc":"f162","sort-numeric-desc":"f163","thumbs-up":"f164","thumbs-down":"f165","youtube-square":"f166",youtube:"f167",xing:"f168","xing-square":"f169","youtube-play":"f16a",dropbox:"f16b","stack-overflow":"f16c",instagram:"f16d",flickr:"f16e",adn:"f170",bitbucket:"f171","bitbucket-square":"f172",tumblr:"f173","tumblr-square":"f174","long-arrow-down":"f175","long-arrow-up":"f176","long-arrow-left":"f177","long-arrow-right":"f178",apple:"f179",windows:"f17a",android:"f17b",linux:"f17c",dribbble:"f17d",skype:"f17e",foursquare:"f180",trello:"f181",female:"f182",male:"f183","gittip,gratipay":"f184","sun-o":"f185","moon-o":"f186",archive:"f187",bug:"f188",vk:"f189",weibo:"f18a",renren:"f18b",pagelines:"f18c","stack-exchange":"f18d","arrow-circle-o-right":"f18e","arrow-circle-o-left":"f190","toggle-left,caret-square-o-left":"f191","dot-circle-o":"f192",wheelchair:"f193","vimeo-square":"f194","turkish-lira,try":"f195","plus-square-o":"f196","space-shuttle":"f197",slack:"f198","envelope-square":"f199",wordpress:"f19a",openid:"f19b","institution,bank,university":"f19c","mortar-board,graduation-cap":"f19d",yahoo:"f19e",google:"f1a0",reddit:"f1a1","reddit-square":"f1a2","stumbleupon-circle":"f1a3",stumbleupon:"f1a4",delicious:"f1a5",digg:"f1a6","pied-piper-pp":"f1a7","pied-piper-alt":"f1a8",drupal:"f1a9",joomla:"f1aa",language:"f1ab",fax:"f1ac",building:"f1ad",child:"f1ae",paw:"f1b0",spoon:"f1b1",cube:"f1b2",cubes:"f1b3",behance:"f1b4","behance-square":"f1b5",steam:"f1b6","steam-square":"f1b7",recycle:"f1b8","automobile,car":"f1b9","cab,taxi":"f1ba",tree:"f1bb",spotify:"f1bc",deviantart:"f1bd",soundcloud:"f1be",database:"f1c0","file-pdf-o":"f1c1","file-word-o":"f1c2","file-excel-o":"f1c3","file-powerpoint-o":"f1c4","file-photo-o,file-picture-o,file-image-o":"f1c5","file-zip-o,file-archive-o":"f1c6","file-sound-o,file-audio-o":"f1c7","file-movie-o,file-video-o":"f1c8","file-code-o":"f1c9",vine:"f1ca",codepen:"f1cb",jsfiddle:"f1cc","life-bouy,life-buoy,life-saver,support,life-ring":"f1cd","circle-o-notch":"f1ce","ra,resistance,rebel":"f1d0","ge,empire":"f1d1","git-square":"f1d2",git:"f1d3","y-combinator-square,yc-square,hacker-news":"f1d4","tencent-weibo":"f1d5",qq:"f1d6","wechat,weixin":"f1d7","send,paper-plane":"f1d8","send-o,paper-plane-o":"f1d9",history:"f1da","circle-thin":"f1db",header:"f1dc",paragraph:"f1dd",sliders:"f1de","share-alt":"f1e0","share-alt-square":"f1e1",bomb:"f1e2","soccer-ball-o,futbol-o":"f1e3",tty:"f1e4",binoculars:"f1e5",plug:"f1e6",slideshare:"f1e7",twitch:"f1e8",yelp:"f1e9","newspaper-o":"f1ea",wifi:"f1eb",calculator:"f1ec",paypal:"f1ed","google-wallet":"f1ee","cc-visa":"f1f0","cc-mastercard":"f1f1","cc-discover":"f1f2","cc-amex":"f1f3","cc-paypal":"f1f4","cc-stripe":"f1f5","bell-slash":"f1f6","bell-slash-o":"f1f7",trash:"f1f8",copyright:"f1f9",at:"f1fa",eyedropper:"f1fb","paint-brush":"f1fc","birthday-cake":"f1fd","area-chart":"f1fe","pie-chart":"f200","line-chart":"f201",lastfm:"f202","lastfm-square":"f203","toggle-off":"f204","toggle-on":"f205",bicycle:"f206",bus:"f207",ioxhost:"f208",angellist:"f209",cc:"f20a","shekel,sheqel,ils":"f20b",meanpath:"f20c",buysellads:"f20d",connectdevelop:"f20e",dashcube:"f210",forumbee:"f211",leanpub:"f212",sellsy:"f213",shirtsinbulk:"f214",simplybuilt:"f215",skyatlas:"f216","cart-plus":"f217","cart-arrow-down":"f218",diamond:"f219",ship:"f21a","user-secret":"f21b",motorcycle:"f21c","street-view":"f21d",heartbeat:"f21e",venus:"f221",mars:"f222",mercury:"f223","intersex,transgender":"f224","transgender-alt":"f225","venus-double":"f226","mars-double":"f227","venus-mars":"f228","mars-stroke":"f229","mars-stroke-v":"f22a","mars-stroke-h":"f22b",neuter:"f22c",genderless:"f22d","facebook-official":"f230","pinterest-p":"f231",whatsapp:"f232",server:"f233","user-plus":"f234","user-times":"f235","hotel,bed":"f236",viacoin:"f237",train:"f238",subway:"f239",medium:"f23a","yc,y-combinator":"f23b","optin-monster":"f23c",opencart:"f23d",expeditedssl:"f23e","battery-4,battery-full":"f240","battery-3,battery-three-quarters":"f241","battery-2,battery-half":"f242","battery-1,battery-quarter":"f243","battery-0,battery-empty":"f244","mouse-pointer":"f245","i-cursor":"f246","object-group":"f247","object-ungroup":"f248","sticky-note":"f249","sticky-note-o":"f24a","cc-jcb":"f24b","cc-diners-club":"f24c",clone:"f24d","balance-scale":"f24e","hourglass-o":"f250","hourglass-1,hourglass-start":"f251","hourglass-2,hourglass-half":"f252","hourglass-3,hourglass-end":"f253",hourglass:"f254","hand-grab-o,hand-rock-o":"f255","hand-stop-o,hand-paper-o":"f256","hand-scissors-o":"f257","hand-lizard-o":"f258","hand-spock-o":"f259","hand-pointer-o":"f25a","hand-peace-o":"f25b",trademark:"f25c",registered:"f25d","creative-commons":"f25e",gg:"f260","gg-circle":"f261",tripadvisor:"f262",odnoklassniki:"f263","odnoklassniki-square":"f264","get-pocket":"f265","wikipedia-w":"f266",safari:"f267",chrome:"f268",firefox:"f269",opera:"f26a","internet-explorer":"f26b","tv,television":"f26c",contao:"f26d","500px":"f26e",amazon:"f270","calendar-plus-o":"f271","calendar-minus-o":"f272","calendar-times-o":"f273","calendar-check-o":"f274",industry:"f275","map-pin":"f276","map-signs":"f277","map-o":"f278",map:"f279",commenting:"f27a","commenting-o":"f27b",houzz:"f27c",vimeo:"f27d","black-tie":"f27e",fonticons:"f280","reddit-alien":"f281",edge:"f282","credit-card-alt":"f283",codiepie:"f284",modx:"f285","fort-awesome":"f286",usb:"f287","product-hunt":"f288",mixcloud:"f289",scribd:"f28a","pause-circle":"f28b","pause-circle-o":"f28c","stop-circle":"f28d","stop-circle-o":"f28e","shopping-bag":"f290","shopping-basket":"f291",hashtag:"f292",bluetooth:"f293","bluetooth-b":"f294",percent:"f295",gitlab:"f296",wpbeginner:"f297",wpforms:"f298",envira:"f299","universal-access":"f29a","wheelchair-alt":"f29b","question-circle-o":"f29c",blind:"f29d","audio-description":"f29e","volume-control-phone":"f2a0",braille:"f2a1","assistive-listening-systems":"f2a2","asl-interpreting,american-sign-language-interpreting":"f2a3","deafness,hard-of-hearing,deaf":"f2a4",glide:"f2a5","glide-g":"f2a6","signing,sign-language":"f2a7","low-vision":"f2a8",viadeo:"f2a9","viadeo-square":"f2aa",snapchat:"f2ab","snapchat-ghost":"f2ac","snapchat-square":"f2ad","pied-piper":"f2ae","first-order":"f2b0",yoast:"f2b1",themeisle:"f2b2","google-plus-circle,google-plus-official":"f2b3","fa,font-awesome":"f2b4"}},e.exampleIcons=function(){return{Api:"gear",Cookie:"paw",Email:"at",Git:"git",Github:"github",Google:"google",Ip:"map-marker",Issues:"exclamation-circle",Language:"language",Options:"sliders",Password:"lock",Phone:"phone",Project:"folder-open",SecurityChallengeAnswer:"commenting",User:"user",Actor:"user",zoomFit:"arrows-alt",zoomIn:"search-plus",zoomOut:"search-minus",Object:"laptop"}},e.exampleImages=function(){return{Address:"assets/img/twemoji/1f3e0.svg",BirthDate:"assets/img/twemoji/1f382.svg",Cookie:"assets/img/twemoji/1f36a.svg",CreditCard:"assets/img/twemoji/1f4b3.svg",Device:"assets/img/twemoji/1f4bb.svg",Email:"assets/img/twemoji/2709.svg",Git:"assets/img/twemoji/1f5c3.svg",Github:"assets/img/twemoji/1f5c4.svg",icons:"assets/img/twemoji/1f38f.svg",Ip:"assets/img/twemoji/1f4cd.svg",Issues:"assets/img/twemoji/1f4a9.svg",Language:"assets/img/twemoji/1f1f1-1f1f7.svg",Options:"assets/img/twemoji/2699.svg",Password:"assets/img/twemoji/1f511.svg",Project:"assets/img/twemoji/2198.svg","Project|name|neo4jd3":"assets/img/twemoji/2196.svg",User:"assets/img/twemoji/1f600.svg",Actor:"assets/img/twemoji/1f600.svg",Object:"assets/img/twemoji/1f4bb.svg",Api:"assets/img/twemoji/1f527.svg",Phone:"assets/img/twemoji/1f4de.svg",SecurityChallengeAnswer:"assets/img/twemoji/1f4ac.svg",zoomFit:"assets/img/twemoji/2194.svg",zoomIn:"assets/img/twemoji/1f50d.svg",zoomOut:"assets/img/twemoji/1f50e.svg",Google:"assets/img/twemoji/1f4bb.svg"}},e}();var r={results:[{columns:["user","entity"],data:[{graph:{nodes:[{id:"1",labels:["User"],properties:{userId:"eisman"}},{id:"2",labels:["Phone"],properties:{value:"555-555-5555"}},{id:"3",labels:["Address"],properties:{zipCode:"90210",country:"US",city:"Beverly Hills",state:"CA"}},{id:"4",labels:["BirthDate"],properties:{value:13263228e5}},{id:"5",labels:["Password"],properties:{value:"123456"}},{id:"6",labels:["Device"],properties:{value:"eisman"}},{id:"7",labels:["SecurityChallengeAnswer"],properties:{value:"hCxh4LItmWefWg71JiYUaxxFrCRaqQIDEoEbeqHa"}},{id:"8",labels:["Project"],properties:{name:"neo4jd3",title:"neo4jd3.js",description:"Neo4j graph visualization using D3.js.",url:"https://eisman.github.io/neo4jd3"}},{id:"9",labels:["Git"],properties:{url:"https://github.com/eisman/neo4jd3"}},{id:"10",labels:["Issues"],properties:{url:"https://github.com/eisman/neo4jd3/issues"}},{id:"11",labels:["Github"],properties:{url:"https://github.com"}},{id:"12",labels:["Project"],properties:{name:"neo4j",title:"Neo4j",description:"Graphs for Everyone",url:"http://neo4j.com"}},{id:"13",labels:["Project"],properties:{name:"d3",title:"D3.js",description:"Bring data to life with SVG, Canvas and HTML.",url:"https://d3js.org/"}},{id:"14",labels:["Email"],properties:{email:"eeisman@gmail.com"}},{id:"15",labels:["CreditCard"],properties:{number:"4916928406205705",type:"visa"}},{id:"16",labels:["Options"],properties:{}},{id:"17",labels:["Language"],properties:{lang:"en_us"}},{id:"18",labels:["Cookie"],properties:{value:"itgnxe0xmvb1tazaqmkpmfzg8m3ma62qskfwcexc"}},{id:"19",labels:["Ip"],properties:{address:"127.0.0.1"}},{id:"20",labels:["icons"],properties:{description:"Map node labels to Font Awesome icons",type:"object",example:{Address:"home",BirthDate:"birthday-cake",Password:"asterisk",Phone:"phone",User:"user"},deafult:"{}"}},{id:"21",labels:["zoomIn"],properties:{description:"Scroll up to zoom in.",type:"function"}},{id:"22",labels:["zoomOut"],properties:{description:"Scroll down to zoom out.",type:"function"}},{id:"23",labels:["zoomFit"],properties:{description:"Adjust the graph to the container once it has been loaded.",type:"boolean",values:[!0,!1],default:!1}},{id:"24",labels:["Api"],properties:{}},{id:"25",labels:["Google"],iconFlag:!0,properties:{url:'https://www.google.com/#q="neo4jd3"'}}],relationships:[{id:"1",type:"HAS_PHONE_NUMBER",startNode:"1",endNode:"2",properties:{from:1473581532586}},{id:"2",type:"HAS_ADDRESS",startNode:"1",endNode:"3",properties:{from:1473581532586}},{id:"3",type:"HAS_BIRTH_DATE",startNode:"1",endNode:"4",properties:{from:1473581532586}},{id:"4",type:"HAS_PASSWORD",startNode:"1",endNode:"5",properties:{from:1473581532586}},{id:"5",type:"USED_DEVICE",startNode:"1",endNode:"6",properties:{from:1473581532586}},{id:"6",type:"HAS_SECURITY_ANSWER",startNode:"1",endNode:"7",properties:{from:1473581532586}},{id:"7",type:"DEVELOPES",startNode:"1",endNode:"8",properties:{from:14700024e5}},{id:"8",type:"REPOSITORY",startNode:"8",endNode:"9",properties:{}},{id:"9",type:"ISSUES",startNode:"8",endNode:"10",properties:{}},{id:"10",type:"HOSTED_ON",startNode:"8",endNode:"11",properties:{}},{id:"11",type:"HOSTED_ON",startNode:"12",endNode:"11",properties:{}},{id:"12",type:"HOSTED_ON",startNode:"13",endNode:"11",properties:{}},{id:"13",type:"HAS_EMAIL",startNode:"1",endNode:"14",properties:{}},{id:"14",type:"USED_CREDIT_CARD",startNode:"1",endNode:"15",properties:{}},{id:"15",type:"DEPENDS_ON",startNode:"8",endNode:"12",properties:{}},{id:"16",type:"DEPENDS_ON",startNode:"8",endNode:"13",properties:{}},{id:"17",type:"OPTIONS",startNode:"8",endNode:"16",properties:{}},{id:"18",type:"HAS_LANGUAGE",startNode:"6",endNode:"17",properties:{}},{id:"19",type:"HAS_COOKIE",startNode:"6",endNode:"18",properties:{}},{id:"20",type:"HAS_IP",startNode:"6",endNode:"19",properties:{}},{id:"21",type:"ICONS",startNode:"16",endNode:"20",properties:{}},{id:"22",type:"ZOOM_IN",startNode:"24",endNode:"21",properties:{}},{id:"23",type:"ZOOM_OUT",startNode:"24",endNode:"22",properties:{}},{id:"24",type:"ZOOM_FIT",startNode:"16",endNode:"23",properties:{}},{id:"25",type:"API",startNode:"8",endNode:"24",properties:{}},{id:"26",type:"GOOGLE_SEARCH",startNode:"8",endNode:"25",properties:{}}]}}]}],errors:[]},n=function(){function e(){this.outOfContext=!1,this.valueSet=!1,this.classes2colors={},this.justLoaded=!1,this.numClasses=0,this.svgScale=void 0,this.options={arrowSize:4,colors:this.colors(),highlight:void 0,icons:void 0,iconMap:[],imageMap:{},images:void 0,infoPanel:!0,minCollision:void 0,neo4jData:void 0,neo4jDataUrl:void 0,nodeOutlineFillColor:void 0,nodeRadius:25,relationshipColor:"#a5abb6",zoomFit:!1,showIcons:!0,onNodeDoubleClick:void 0,onNodeClick:void 0,onNodeMouseEnter:void 0,onNodeMouseLeave:void 0,onRelationshipDoubleClick:void 0,onNodeDragEnd:void 0,onNodeDragStart:void 0}}return e.prototype.setValues=function(e,t){new i(this.options),this.containerIdentity=e,this.optionsInput=t,this.valueSet=!0},e.prototype.isValueSet=function(){return this.valueSet},e.prototype.getOptionsInput=function(){return this.optionsInput},e.prototype.getContainer=function(){return this.container},e.prototype.init=function(){return this.container=o.select(this.containerIdentity),this.initIconMap(this.options),this.mergeProperty(this.options,this.optionsInput),this.options.icons&&(this.options.showIcons=!0),this.options.minCollision||(this.options.minCollision=2*this.options.nodeRadius),this.initImageMap(this.options),this.container.attr("class","neo4jd3").html(""),this.options.infoPanel&&(this.info=this.appendInfoPanel(this.container)),this.svg=this.appendGraph(this.container),this.simulation=this.initSimulation(),this.options.neo4jData?this.loadNeo4jData():this.options.neo4jDataUrl?this.loadNeo4jDataFromUrl(this.options.neo4jDataUrl):console.error("Error: both neo4jData and neo4jDataUrl are empty!"),this.options},e.prototype.initSimulation=function(){var e=this,t=this.svg.node().parentElement;if(null!=t&&null!=t.parentElement){var i=this.svg.node().parentElement.parentElement.clientWidth/2,r=this.svg.node().parentElement.parentElement.clientHeight/2;return o.forceSimulation().force("collide",o.forceCollide().radius((function(t){return e.options.minCollision})).iterations(2)).force("charge",o.forceManyBody()).force("link",o.forceLink().id((function(e){return e.id}))).force("center",o.forceCenter(i,r)).on("tick",(function(){e.tick()})).on("end",(function(){e.options.zoomFit&&e.justLoaded}))}},e.prototype.appendGraph=function(e){var t=this,i=e.append("svg").attr("width","100%").attr("height","100%").attr("class","neo4jd3-graph").call(o.zoom().on("zoom",(function(){var e=o.event.transform.k,i=[o.event.transform.x,o.event.transform.y];t.svgTranslate&&(i[0]+=t.svgTranslate[0],i[1]+=t.svgTranslate[1]),t.svgScale&&(e*=t.svgScale),t.svg.attr("transform","translate("+i[0]+", "+i[1]+") scale("+e+")")}))).on("dblclick.zoom",null).append("g").attr("width","100%").attr("height","100%");return this.svgRelationships=i.append("g").attr("class","relationships"),this.svgNodes=i.append("g").attr("class","nodes"),i},e.prototype.appendInfoPanel=function(e){return e.append("div").attr("class","neo4jd3-info")},e.prototype.appendInfoElement=function(e,t,o,i){void 0===i&&(i=null);var r=this.info.append("a");if(r.attr("href","#").attr("class",e).html("<strong>"+o+"</strong>"+(i?": "+i:"")),!i){var n=this;r.style("background-color",(function(e){return n.options.nodeOutlineFillColor?n.options.nodeOutlineFillColor:t?n.class2color(o):n.defaultColor()})).style("border-color",(function(e){return n.options.nodeOutlineFillColor?n.class2darkenColor(n.options.nodeOutlineFillColor):t?n.class2darkenColor(o):n.defaultDarkenColor()})).style("color",(function(e){return n.options.nodeOutlineFillColor?n.class2darkenColor(n.options.nodeOutlineFillColor):"#fff"}))}},e.prototype.appendInfoElementClass=function(e,t){this.appendInfoElement(e,!0,t)},e.prototype.appendInfoElementProperty=function(e,t,o){this.appendInfoElement(e,!1,t,o)},e.prototype.appendInfoElementRelationship=function(e,t){this.appendInfoElement(e,!1,t)},e.prototype.appendNode=function(){var e=this;return this.node.enter().append("g").attr("class",(function(t){var o="node";if(e.icon(t)&&(o+=" node-icon"),e.image(t)&&(o+=" node-image"),e.options.highlight)for(var i=0;i<e.options.highlight.length;i++){var r=e.options.highlight[i];if(t.labels[0]===r.class&&t.properties[r.property]===r.value){o+=" node-highlighted";break}}return o})).on("click",(function(t){t.fx=t.fy=null,null!=e.options.onNodeClick&&e.options.onNodeClick(t)})).on("dblclick",(function(t){e.stickNode(t),null!=e.options.onNodeDoubleClick&&e.options.onNodeDoubleClick(t)})).on("mouseenter",(function(t){e.info&&e.updateInfo(t),null!=e.options.onNodeMouseEnter&&e.options.onNodeMouseEnter(t)})).on("mouseleave",(function(t){e.info&&e.clearInfo(),null!=e.options.onNodeMouseLeave&&e.options.onNodeMouseLeave(t)})).call(o.drag().on("start",(function(t){e.dragStarted(t)})).on("drag",(function(t){e.dragged(t)})).on("end",(function(t){e.dragEnded(t)})))},e.prototype.appendNodeToGraph=function(){var e=this.appendNode();return this.appendRingToNode(e),this.appendOutlineToNode(e),this.options.icons&&this.appendTextToNode(e),this.options.images&&this.appendImageToNode(e),e},e.prototype.appendOutlineToNode=function(e){var t=this,o=this.options;return e.append("circle").attr("class","outline").attr("r",o.nodeRadius).style("fill",(function(e){return o.nodeOutlineFillColor?o.nodeOutlineFillColor:t.class2color(e.labels[0])})).style("stroke",(function(e){return o.nodeOutlineFillColor?t.class2darkenColor(o.nodeOutlineFillColor):t.class2darkenColor(e.labels[0])})).append("title").text((function(e){return t.toString(e)}))},e.prototype.class2color=function(e){var t=this.classes2colors[e];return t||(t=this.options.colors[this.numClasses%this.options.colors.length],this.classes2colors[e]=t,this.numClasses++),t},e.prototype.class2darkenColor=function(e){var t=this.class2color(e);try{return o.rgb(t).darker(1)}catch(e){}},e.prototype.appendRingToNode=function(e){var t=this;return e.append("circle").attr("class","ring").attr("r",1.16*this.options.nodeRadius).append("title").text((function(e){return t.toString(e)}))},e.prototype.appendImageToNode=function(e){var t=this;return e.append("image").attr("width","35px").attr("height","35px").attr("x","-18px").attr("y","-18px").attr("xlink:href",(function(e){return t.image(e)}))},e.prototype.appendTextToNode=function(e){var t=this;return e.append("text").attr("class",(function(e){return"text"+(t.icon(e)?" icon":"")})).attr("fill","black").attr("font-size",(function(e){return t.icon(e)?"25px":"12px"})).attr("pointer-events","none").attr("text-anchor","middle").attr("x",(function(e){return t.icon(e)?"25px":"30px"})).attr("y",(function(e){return t.icon(e)?"25px":"30px"})).attr("style",(function(e){return t.icon(e)?"fill: rgb(225, 225, 225); stroke: rgb(000, 000, 000);":""})).html((function(e){var o=t.icon(e);return o?"&#x"+o:e.id}))},e.prototype.appendRandomDataToNode=function(e,t){var o=this.randomD3Data(e,t);this.updateWithNeo4jData(o)},e.prototype.appendRelationship=function(){var e=this;return this.relationship.enter().append("g").attr("class","relationship").on("dblclick",(function(t){null!=e.options.onRelationshipDoubleClick&&e.options.onRelationshipDoubleClick(t)})).on("mouseenter",(function(t){e.info&&e.updateInfo(t)}))},e.prototype.clearInfo=function(){this.info.html("")},e.prototype.color=function(){return this.options.colors[this.options.colors.length*Math.random()<<0]},e.prototype.colors=function(){return["#68bdf6","#6dce9e","#faafc2","#f2baf6","#ff928c","#fcea7e","#ffc766","#405f9e","#a5abb6","#78cecb","#b88cbb","#ced2d9","#e84646","#fa5f86","#ffab1a","#fcda19","#797b80","#c9d96f","#47991f","#70edee","#ff75ea"]},e.prototype.containsResult=function(e,t){return e.filter((function(e){return e.id===t})).length>0},e.prototype.defaultColor=function(){return this.options.relationshipColor},e.prototype.defaultDarkenColor=function(){var e=this.options.colors[this.options.colors.length-1];try{return o.rgb(e).darker(1)}catch(e){}},e.prototype.dragEnded=function(e){o.event.active||this.simulation.alphaTarget(0),null!=this.options.onNodeDragEnd&&this.options.onNodeDragEnd(e)},e.prototype.dragged=function(e){this.stickNode(e)},e.prototype.dragStarted=function(e){o.event.active||this.simulation.alphaTarget(.3).restart(),e.fx=e.x,e.fy=e.y,null!=this.options.onNodeDragStart&&this.options.onNodeDragStart(e)},e.prototype.extend=function(e,t){var o={};return this.mergeProperty(o,e),this.mergeProperty(o,t),o},e.prototype.icon=function(e){var t;return this.options.iconMap&&this.options.showIcons&&this.options.icons&&(this.options.icons[e.labels[0]]&&this.options.iconMap[this.options.icons[e.labels[0]]]?t=this.options.iconMap[this.options.icons[e.labels[0]]]:this.options.iconMap[e.labels[0]]?t=this.options.iconMap[e.labels[0]]:this.options.icons[e.labels[0]]&&(t=this.options.icons[e.labels[0]])),t},e.prototype.image=function(e){var t,o,i,r,n,a,s,f;if(this.options.images){var l=null==e.img?e.labels[0]:e.img;if(o=this.options.imageMap[l])for(r=0,t=0;t<o.length;t++){switch((a=o[t].split("|")).length){case 3:f=a[2];case 2:s=a[1];case 1:n=a[0]}l!==n||s&&void 0===e.properties[s]||f&&e.properties[s]!==f||a.length>r&&(i=this.options.images[o[t]],r=a.length)}}return i},e.prototype.loadNeo4jData=function(){this.nodes=[],this.relationships=[],this.updateWithNeo4jData(this.options.neo4jData)},e.prototype.loadNeo4jDataFromUrl=function(e){this.nodes=[],this.relationships=[],o.json(e,(function(e,t){if(e)throw e;this.updateWithNeo4jData(t)}))},e.prototype.neo4jDataToD3Data=function(e){var t={nodes:[],relationships:[]},o=this;return e.results.forEach((function(e){e.data.forEach((function(e){e.graph.nodes.forEach((function(e){o.containsResult(t.nodes,e.id)||t.nodes.push(e)})),e.graph.relationships.forEach((function(e){e.source=e.startNode,e.target=e.endNode,t.relationships.push(e)})),e.graph.relationships.sort((function(e,t){return e.source>t.source?1:e.source<t.source?-1:e.target>t.target?1:e.target<t.target?-1:0}));for(var i=0;i<e.graph.relationships.length;i++)0!==i&&e.graph.relationships[i].source===e.graph.relationships[i-1].source&&e.graph.relationships[i].target===e.graph.relationships[i-1].target?e.graph.relationships[i].linknum=e.graph.relationships[i-1].linknum+1:e.graph.relationships[i].linknum=1}))})),t},e.prototype.toString=function(e){var t=e.labels?e.labels[0]:e.type;return t+=" (<id>: "+e.id,Object.keys(e.properties).forEach((function(o){t+=", "+o+": "+JSON.stringify(e.properties[o])})),t+=")"},e.prototype.randomD3Data=function(e,t){for(var o={nodes:[],relationships:[]},i=1+(t*Math.random()<<0),r=this.size(),n=0;n<i;n++){var a={id:r.nodes+1+n,labels:["Hello"],properties:{random:"Hello"},x:e.x,y:e.y};o.nodes[o.nodes.length]=a;var s={id:r.relationships+1+n,type:"Hello".toUpperCase(),startNode:e.id,endNode:r.nodes+1+n,properties:{from:Date.now()},source:e.id,target:r.nodes+1+n,linknum:r.relationships+1+n};o.relationships[o.relationships.length]=s}return o},e.prototype.size=function(){return{nodes:this.nodes.length,relationships:this.relationships.length}},e.prototype.stickNode=function(e){e.fx=o.event.x,e.fy=o.event.y},e.prototype.tick=function(){this.tickNodes(),this.tickRelationships()},e.prototype.tickNodes=function(){this.node&&this.node.attr("transform",(function(e){if(null!=e)return"translate("+e.x+", "+e.y+")";var t="=========>>>>>>>>>>>>>> ERROR >> tickNodes";throw console.error(t),new Error(t)}))},e.prototype.tickRelationships=function(){if(this.relationship){var e=this;this.relationship.attr("transform",(function(t){if(null!=t){var o=e.rotation(t.source,t.target);if(null!=t.source)return"translate("+t.source.x+", "+t.source.y+") rotate("+o+")"}var i="=========>>>>>>>>>>>>>> ERROR >> tickRelationships";throw console.error(i),new Error(i)})),this.tickRelationshipsTexts(),this.tickRelationshipsOutlines(),this.tickRelationshipsOverlays()}},e.prototype.tickRelationshipsOutlines=function(){var e=this;this.relationship.each((function(t,i,r){var n,a=r[i],s=o.select(a);try{n=s.select(".outline")}catch(e){return}var f=s.select(".text");try{f.node().getBBox()}catch(e){return}n.attr("d",(function(t){try{var o=e.options,i={x:0,y:0},r=e.rotation(t.source,t.target),n=f.node().getBBox(),a=e.unitaryVector(t.source,t.target),s={x:.5*(t.target.x-t.source.x-(n.width+5)*a.x),y:.5*(t.target.y-t.source.y-(n.width+5)*a.y)},l=e.unitaryNormalVector(t.source,t.target),p=e.rotatePoint(i,{x:0+(e.options.nodeRadius+1)*a.x-l.x,y:0+(e.options.nodeRadius+1)*a.y-l.y},r),c=e.rotatePoint(i,{x:s.x-l.x,y:s.y-l.y},r),d=e.rotatePoint(i,{x:s.x,y:s.y},r),u=e.rotatePoint(i,{x:0+(o.nodeRadius+1)*a.x,y:0+(o.nodeRadius+1)*a.y},r),h=e.rotatePoint(i,{x:t.target.x-t.source.x-s.x-l.x,y:t.target.y-t.source.y-s.y-l.y},r),g=e.rotatePoint(i,{x:t.target.x-t.source.x-(o.nodeRadius+1)*a.x-l.x-a.x*o.arrowSize,y:t.target.y-t.source.y-(o.nodeRadius+1)*a.y-l.y-a.y*o.arrowSize},r),m=e.rotatePoint(i,{x:t.target.x-t.source.x-(o.nodeRadius+1)*a.x-l.x+(l.x-a.x)*o.arrowSize,y:t.target.y-t.source.y-(o.nodeRadius+1)*a.y-l.y+(l.y-a.y)*o.arrowSize},r),y=e.rotatePoint(i,{x:t.target.x-t.source.x-(o.nodeRadius+1)*a.x,y:t.target.y-t.source.y-(o.nodeRadius+1)*a.y},r),b=e.rotatePoint(i,{x:t.target.x-t.source.x-(o.nodeRadius+1)*a.x+(-l.x-a.x)*o.arrowSize,y:t.target.y-t.source.y-(o.nodeRadius+1)*a.y+(-l.y-a.y)*o.arrowSize},r),v=e.rotatePoint(i,{x:t.target.x-t.source.x-(o.nodeRadius+1)*a.x-a.x*o.arrowSize,y:t.target.y-t.source.y-(o.nodeRadius+1)*a.y-a.y*o.arrowSize},r),x=e.rotatePoint(i,{x:t.target.x-t.source.x-s.x,y:t.target.y-t.source.y-s.y},r);return"M "+p.x+" "+p.y+" L "+c.x+" "+c.y+" L "+d.x+" "+d.y+" L "+u.x+" "+u.y+" Z M "+h.x+" "+h.y+" L "+g.x+" "+g.y+" L "+m.x+" "+m.y+" L "+y.x+" "+y.y+" L "+b.x+" "+b.y+" L "+v.x+" "+v.y+" L "+x.x+" "+x.y+" Z"}catch(e){return}}))}))},e.prototype.outlineFunction=function(e,t){},e.prototype.tickRelationshipsOverlays=function(){var e=this;this.relationshipOverlay.attr("d",(function(t){var o={x:0,y:0},i=e.rotation(t.source,t.target),r=e.unitaryNormalVector(t.source,t.target),n=e.unitaryNormalVector(t.source,t.target,50),a=e.rotatePoint(o,{x:0-n.x,y:0-n.y},i),s=e.rotatePoint(o,{x:t.target.x-t.source.x-n.x,y:t.target.y-t.source.y-n.y},i),f=e.rotatePoint(o,{x:t.target.x-t.source.x+n.x-r.x,y:t.target.y-t.source.y+n.y-r.y},i),l=e.rotatePoint(o,{x:0+n.x-r.x,y:0+n.y-r.y},i);return"M "+a.x+" "+a.y+" L "+s.x+" "+s.y+" L "+f.x+" "+f.y+" L "+l.x+" "+l.y+" Z"}))},e.prototype.tickRelationshipsTexts=function(){var e=this;this.relationshipText.attr("transform",(function(t){var o=(e.rotation(t.source,t.target)+360)%360,i=o>90&&o<270,r=e.unitaryNormalVector(t.source,t.target),n=i?2:-3,a={x:.5*(t.target.x-t.source.x)+r.x*n,y:.5*(t.target.y-t.source.y)+r.y*n},s=e.rotatePoint({x:0,y:0},a,o);return"translate("+s.x+", "+s.y+") rotate("+(i?180:0)+")"}))},e.prototype.unitaryNormalVector=function(e,t,o){void 0===o&&(o=1);var i=this.unitaryVector(e,t,o);return this.rotatePoint({x:0,y:0},i,90)},e.prototype.unitaryVector=function(e,t,o){void 0===o&&(o=1);var i=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))/Math.sqrt(o||1);return{x:(t.x-e.x)/i,y:(t.y-e.y)/i}},e.prototype.updateWithD3Data=function(e){this.updateNodesAndRelationships(e.nodes,e.relationships)},e.prototype.updateWithNeo4jData=function(e){var t=this.neo4jDataToD3Data(e);this.updateNodesAndRelationships(t.nodes,t.relationships)},e.prototype.updateInfo=function(e){this.clearInfo(),e.labels?this.appendInfoElementClass("class",e.labels[0]):this.appendInfoElementRelationship("class",e.type),this.appendInfoElementProperty("property","&lt;id&gt;",e.id);var t=this;Object.keys(e.properties).forEach((function(o){t.appendInfoElementProperty("property",o,JSON.stringify(e.properties[o]))}))},e.prototype.updateNodes=function(e){Array.prototype.push.apply(this.nodes,e),this.node=this.svgNodes.selectAll(".node").data(this.nodes,(function(e){return e.id}));var t=this.appendNodeToGraph();this.node=t.merge(this.node)},e.prototype.updateNodesAndRelationships=function(e,t){this.updateRelationships(t),this.updateNodes(e),this.simulation.nodes(this.nodes),this.simulation.force("link").links(this.relationships)},e.prototype.updateRelationships=function(e){Array.prototype.push.apply(this.relationships,e),this.relationship=this.svgRelationships.selectAll(".relationship").data(this.relationships,(function(e){return e.id}));var t=this.appendRelationship(),o=this.appendRelationshipToGraph(t);this.relationship=o.relationship.merge(this.relationship),this.relationshipOutline=this.svg.selectAll(".relationship .outline"),this.relationshipOutline=o.outline.merge(this.relationshipOutline),this.relationshipOverlay=this.svg.selectAll(".relationship .overlay"),this.relationshipOverlay=o.overlay.merge(this.relationshipOverlay),this.relationshipText=this.svg.selectAll(".relationship .text"),this.relationshipText=o.text.merge(this.relationshipText)},e.prototype.getOptionsPresentation=function(){return{arrowSize:4,colors:void 0,highlight:[{class:"Project",property:"name",value:"neo4jd3"},{class:"User",property:"userId",value:"eisman"}],icons:i.exampleIcons(),images:i.exampleImages(),iconMap:void 0,imageMap:void 0,infoPanel:!0,minCollision:60,neo4jData:r,nodeOutlineFillColor:void 0,neo4jDataUrl:void 0,nodeRadius:25,relationshipColor:"#a5abb6",onRelationshipDoubleClick:function(e){console.log("double click on relationship: "+JSON.stringify(e))},zoomFit:!0,showIcons:!0,onNodeDoubleClick:void 0,onNodeClick:void 0,onNodeMouseEnter:void 0,onNodeMouseLeave:void 0,onNodeDragEnd:void 0,onNodeDragStart:void 0}},e.prototype.rotatePoint=function(e,t,o){return this.rotate(e.x,e.y,t.x,t.y,o)},e.prototype.rotation=function(e,t){return 180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI},e.prototype.rotate=function(e,t,o,i,r){var n=Math.PI/180*r,a=Math.cos(n),s=Math.sin(n);return{x:a*(o-e)+s*(i-t)+e,y:a*(i-t)-s*(o-e)+t}},e.prototype.initIconMap=function(e){return Object.keys(e.iconMap).forEach((function(t,o){var i=t.split(","),r=e.iconMap[t];i.forEach((function(t){e.iconMap[t]=r}))})),e.iconMap},e.prototype.initImageMap=function(e){var t,o;for(t in e.images)e.images.hasOwnProperty(t)&&(o=t.split("|"),e.imageMap[o[0]]?e.imageMap[o[0]].push(t):e.imageMap[o[0]]=[t])},e.prototype.appendTextToRelationship=function(e){return e.append("text").attr("class","text").attr("fill","#000000").attr("font-size","8px").attr("pointer-events","none").attr("text-anchor","middle").text((function(e){return e.type}))},e.prototype.appendRelationshipToGraph=function(e){var t=this.appendTextToRelationship(e);return{outline:e.append("path").attr("class","outline").attr("fill","#a5abb6").attr("stroke","none"),overlay:e.append("path").attr("class","overlay"),relationship:e,text:t}},e.prototype.mergeProperty=function(e,t){Object.keys(t).forEach((function(o){var i=t[o];null!=i&&(i instanceof Array?i.length>0&&(e[o]=t[o]):e[o]=t[o])}))},e.prototype.version=function(){return"1.0.0"},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}();var a=function(){function e(){}return e.prototype.ngOnInit=function(){},e.decorators=[{type:t.Component,args:[{selector:"lib-ng-neo4jd3",template:"\n    <p>\n      ng-neo4jd3 works!\n    </p>\n  "}]}],e.ctorParameters=function(){return[]},e}(),s=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[a],imports:[],exports:[a]}]}],e}(),f=function(){};var l=function(){};var p=function(){this.colors=[],this.highlight=[],this.iconMap={},this.icons={},this.imageMap={},this.images={},this.infoPanel=!0,this.nodeRadius=25,this.relationshipColor="#a5abb6",this.zoomFit=!1,this.showIcons=!0,this.onNodeClick=function(){console.log("onNodeClick >> Default Method!")},this.onNodeDoubleClick=function(){console.log("onNodeDoubleClick >> Default Method!")},this.onNodeMouseEnter=function(){console.log("onNodeMouseEnter >> Default Method!")},this.onNodeMouseLeave=function(){console.log("onNodeMouseLeave >> Default Method!")},this.onRelationshipDoubleClick=function(){console.log("onRelationshipDoubleClick >> Default Method!")},this.onNodeDragEnd=function(){console.log("onNodeDragEnd >> Default Method!")},this.onNodeDragStart=function(){console.log("onNodeDragStart >> Default Method!")},this.neo4jDataUrl=void 0};e.Neo4jD3Records=r,e.NgNeo4jD3Data=l,e.NgNeo4jD3Icons=i,e.NgNeo4jD3Options=p,e.NgNeo4jd3Component=a,e.NgNeo4jd3Module=s,e.NgNeo4jd3Service=n,e.RelationshipEnter=f,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-neo4jd3.umd.min.js.map